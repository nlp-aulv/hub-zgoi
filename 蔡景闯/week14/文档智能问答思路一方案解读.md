# 方案1

1. 数据准备：md文件内容合并，应该是定义好的公式文档
2. 语义检索：使用Embdding模型给问题和公式编码，计算相似度，获取最相似的前K个公式
3. 提示词构建：把检索的公式和提问定一个‘理工科博士’的提示词，要求选择公式并进行计算
4. 提示词输入到大模型，大模型计算得到结果

# 方案2

1. 数据准备：pdf文件内容读取，基于文本匹配得到每个问题对应的知识
2. 提示词构建：在提示词中设定好问题和对应的知识，要求直接回答计算结果
3. 提示词输入到大模型，大模型计算得到结果

# 方案3

1. 数据准备：pdf和md文件内容读取后，构建简单的文本知识库
2. 语义检索：使用Embdding模型给问题和文本编码，计算相似度，获取最相似的前K个文本
3. 提示词构建：把检索的文本和提问设定提示词，要求以指定json格式回答。其中构建了思维链：
   1. 选出最佳文本
   2. 分析问题意图：计算最终数值，回答数学公式，数学逻辑判断
   3. 返回指定json结果，包含思考过程，问题意图，（公式，变量，变量猜测）的结构化数据，大模型回答
   4. 规定了数值计算中参数猜测的要求
4. 提示词输入到大模型，大模型给出json格式回答，其中对于计算意图使用`sympy`计算结果，最后保存回答结果到日志文件
5. 从日志文件读取回答结果，解析回答结果，具体操作：
   1. 最终答案是数值，直接采纳
   2. json格式中提取意图，分别采纳答案

# 个人思路：RAG + 计算工具
1. 数据准备：pdf文件转md文件，传入大模型提取内容中的用途，公式，公式参数，构建数据库
2. RAG检索：问题和用途字段进行全文检索+语义检索，在经过rerank模型，获取前K个数据
3. 提示词构建：在提示词中设定好问题，提供的知识，工具。知识包含用途，公式，公式参数。工具使用sympy运算。要求大模型使用工具生成结果。
