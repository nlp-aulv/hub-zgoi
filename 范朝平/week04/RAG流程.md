RAG实现流程详解
1. 上传文档
用户通过界面或API上传各类文档（PDF、Word等），系统接收文件并存储到指定位置。

2. 解析分块 
提取文本内容，保留结构和语义,将长文本切割成适当大小的片段,保持块与块之间有一定重叠，避免信息断裂

3. 向量入库
使用嵌入模型（如bge-small-zh）将文本块转换为数字向量,这些向量就像文本的"数字指纹"，能够表示语义信息,将向量和原文一起存入向量数据库（Elasticsearch）

4. 用户提问
用户输入自然语言问题，系统接收问题并准备检索。

5. 双路检索 
关键词检索：传统搜索方式，查找包含相同词汇的内容
语义检索：将问题也转换为向量，寻找语义相近的内容

6. RRF结果融合
对两种检索方法的结果进行智能合并,综合考虑排名位置，给每个结果计算综合得分,选出最相关的前10个文本片段。

7. 构造Prompt
将检索到的相关文本组织成上下文

8. LLM生成回答
只使用给定资料中的信息,组织成自然流畅的语言,避免编造不存在的信息。

9. 返回用户
将生成的回答返回给用户，完成一次问答流程。

