## 1、理解文档公式解析与智能问答中的思路1，阅读待选方案1、2、3

### 文档公式解析与智能问答中的思路1

实施步骤：

- 步骤1：pdf公式的解析，将文档中的公式进行结构解析，并生成对应的$\LaTeX$公式。
- 步骤2: RAG的检索和排序，用户的提问 与 公式 进行相似度计算，也可以加入rerank 过程，选择得到top1-8待选公式。
- 步骤3:
  - 使用qwen-3 thinking模型，输入用户提问 + 公式latex ，生成对应的代码 或 sympy ，并执行代码，返回结果。
  - 使用qwen-3 thinking模型，直接推理得到答案。

### 待选方案1

实施步骤：

- 步骤1：PDF数据处理，使用dots.ocr模型将PDF批量转换为MD格式，再对转换后的分页MD文件进行合并处理(data_prepare.py)。
- 步骤2：使用Qwen3 Embedding模型对提问和文档进行编码，并进行相似度计算，得到top1-8待选公式。
- 步骤3：使用Qwen3-32B/Qwen3-235B-A22B-Thinking-2507模型，用得到的公式和提问编辑提示词，直接推理得到答案。

### 待选方案2

实施步骤：

- 步骤1：使用PyPDFLoader和UnstructuredMarkdownLoader加载PDF和MD文件，提取文档内容并保存到CSV文件
- 步骤2：基于文本匹配得到每个问题对应的公式
- 步骤3：使用本地Qwen2.5-7B模型，对每个问题和匹配的公式进行问答，直接推理得到答案

### 待选方案3

实施步骤：

- 步骤1：使用PyMuPDF提取文档纯文本内容
- 步骤2：使用shibing624/text2vec-base-chinese模型对提问和文档向量化，检索Top1-3候选文档
- 步骤3：使用Ollama运行Qwen3-8B模型进行推理，生成思考过程和答案
- 步骤4：后处理，将复杂回答转换为统一的数值格式
