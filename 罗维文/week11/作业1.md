## 【作业1】
对多模态RAG的项目，设计下接口，需要满足：数据管理的接口、多模态检索接口、多模态问答接口  
    接口定义定义清楚，传入的参数 + 返回的结果格式  

### 数据管理的接口

**响应格式**(dataResponse)
1. 响应状态
2. 响应信息
3. data

| 接口                             | 输入                                                    | 输出                                                  | 接口描述                |
|:-------------------------------|-------------------------------------------------------|-----------------------------------------------------|:--------------------|
| get /health                    |                                                       | 返回服务状态信息<br/>（程序的启动时间，是否连接到关系型数据库，是否连接到milvus）      | 后端服务的状态检测           |
| post /document                 | 1. 文档题目<br/> 2. 文档内容<br/> 3. 数据库会话                    | dataResponse<br/> data为1. 关系数据库的文档id 2.关系数据库的文档创建时间 | 上传新的文档              |
| get /document/{document_id}    | 1. 文档id<br/> 2. 数据库会话                                 | dataResponse<br/> data为关系数据库存储的信息                   | 获取document_id的文档的信息 |
| patch /document/{document_id}  | 1. 文档id<br/> 2. 文档题目<br/> 3. 数据库会话                    | dataResponse                                        | 更新document_id的文档的信息 |
| delete /document/{document_id} | 1. 文档id<br/> 2. 数据库会话                                 | dataResponse                                        | 删除document_id的文档的信息 |
| get /document/list             | 1. 查询页面的大小<br/> 2. 具体查询的页面<br/> 3. 排序逻辑<br/> 4. 数据库会话 | dataResponse<br/> data为关系数据库存储的信息和返回文档个数            | 获取所有文档的列表           |


### 多模态检索接口

| 接口            | 输入                                | 输出                                                 | 接口描述   |
|:--------------|-----------------------------------|----------------------------------------------------|:-------|
| post /search  | 1. 查询文本<br/> 2. 查询图片<br/> 3. 返回数量 | dataResponse<br/>data为查询到的chunk和图片信息及对应关系库文档信息及相似度 | 进行文档检索 |


### 多模态问答接口

| 接口          | 输入                      | 输出                           | 接口描述 |
|:------------|-------------------------|------------------------------|:-----|
| post /chat  | 1. 获取用户提问<br/> 2. 数据库会话 | dataResponse<br/>data为大模型的回答 | 进行问答 |

