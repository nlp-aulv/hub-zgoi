1、chatbi的项目梳理一下，现在前端和后端交互接口有多少个，写一个接口文档出来，提交。
g总计：22个接口
接口文档见：作业2.json,如有问题请联系我
具体分析如下：
# FastAPI 接口文档

## 概述
这是一个基于 FastAPI 构建的 RESTful API 服务，提供用户管理、聊天功能、数据管理和股票管理等功能。

**基础信息：**
- 版本：0.1.0
- 健康检查端点：`/v1/healthy`

## 接口列表

### 用户管理 (users)

#### 1. 用户登录
- **端点：** `POST /v1/users/login`
- **描述：** 用户登录验证
- **请求体：**
```json
{
  "user_name": "string",
  "password": "string"
}
```
- **响应：** `BasicResponse`

#### 2. 用户注册
- **端点：** `POST /v1/users/register`
- **描述：** 创建新用户
- **请求体：**
```json
{
  "user_name": "string",
  "password": "string",
  "user_role": "string"
}
```
- **响应：** `BasicResponse`

#### 3. 重置密码
- **端点：** `POST /v1/users/reset-password`
- **描述：** 修改用户密码
- **请求体：**
```json
{
  "user_name": "string",
  "password": "string",
  "new_password": "string"
}
```
- **响应：** `BasicResponse`

#### 4. 获取用户信息
- **端点：** `POST /v1/users/info`
- **描述：** 查询用户信息
- **参数：**
  - `user_name` (query, string, required): 用户名
- **响应：** `BasicResponse`

#### 5. 更新用户信息
- **端点：** `POST /v1/users/reset-info`
- **描述：** 修改用户信息
- **请求体：**
```json
{
  "user_name": "string",
  "user_role": "string",
  "status": "boolean"
}
```
- **响应：** `BasicResponse`

#### 6. 删除用户
- **端点：** `POST /v1/users/delete`
- **描述：** 删除指定用户
- **参数：**
  - `user_name` (query, string, required): 用户名
- **响应：** `BasicResponse`

#### 7. 用户列表
- **端点：** `POST /v1/users/list`
- **描述：** 获取所有用户列表
- **响应：** `BasicResponse`

### 聊天功能 (chat)

#### 1. 聊天对话
- **端点：** `POST /v1/chat/`
- **描述：** 与AI进行对话
- **请求体：** `RequestForChat`
```json
{
  "content": "string",
  "user_name": "string",
  "session_id": "string | null",
  "task": "string | null",
  "tools": "string[] | null",
  "image_content": "string | null",
  "file_content": "string | null",
  "url_content": "string | null",
  "audio_content": "string | null",
  "video_content": "string | null",
  "vison_mode": "boolean | null",
  "deepsearch_mode": "boolean | null",
  "sql_interpreter": "boolean | null",
  "code_interpreter": "boolean | null"
}
```
- **响应：** 无特定结构

#### 2. 初始化聊天
- **端点：** `POST /v1/chat/init`
- **描述：** 初始化聊天会话
- **响应：** 无特定结构

#### 3. 获取聊天记录
- **端点：** `POST /v1/chat/get`
- **描述：** 获取指定会话的聊天记录
- **参数：**
  - `session_id` (query, string, required): 会话ID
- **响应：** `BasicResponse`

#### 4. 删除聊天记录
- **端点：** `POST /v1/chat/delete`
- **描述：** 删除指定会话的聊天记录
- **参数：**
  - `session_id` (query, string, required): 会话ID
- **响应：** `BasicResponse`

#### 5. 聊天列表
- **端点：** `POST /v1/chat/list`
- **描述：** 获取用户的聊天会话列表
- **参数：**
  - `user_name` (query, string, required): 用户名
- **响应：** `BasicResponse`

#### 6. 聊天反馈
- **端点：** `POST /v1/chat/feedback`
- **描述：** 对聊天消息进行反馈
- **参数：**
  - `session_id` (query, string, required): 会话ID
  - `message_id` (query, integer, required): 消息ID
  - `feedback` (query, boolean, required): 反馈结果
- **响应：** `BasicResponse`

### 数据管理 (data)

#### 1. 下载数据
- **端点：** `POST /v1/data/download`
- **描述：** 下载数据文件
- **响应：** 无特定结构

#### 2. 创建数据
- **端点：** `POST /v1/data/create`
- **描述：** 创建数据
- **响应：** 无特定结构

#### 3. 上传数据
- **端点：** `POST /v1/data/upload`
- **描述：** 上传数据文件
- **响应：** 无特定结构

#### 4. 删除数据
- **端点：** `POST /v1/data/delete`
- **描述：** 删除数据
- **响应：** 无特定结构

### 股票管理 (stocks)

#### 1. 获取用户收藏股票
- **端点：** `POST /v1/stock/list_fav_stock`
- **描述：** 获取用户收藏的所有股票
- **参数：**
  - `user_name` (query, string, required): 用户名
- **响应：** 无特定结构

#### 2. 删除收藏股票
- **端点：** `POST /v1/stock/del_fav_stock`
- **描述：** 删除用户收藏的指定股票
- **参数：**
  - `user_name` (query, string, required): 用户名
  - `stock_code` (query, string, required): 股票代码
- **响应：** 无特定结构

#### 3. 添加收藏股票
- **端点：** `POST /v1/stock/add_fav_stock`
- **描述：** 为用户添加收藏股票
- **参数：**
  - `user_name` (query, string, required): 用户名
  - `stock_code` (query, string, required): 股票代码
- **响应：** 无特定结构

#### 4. 清空收藏股票
- **端点：** `POST /v1/stock/clear_fav_stock`
- **描述：** 清空用户的所有收藏股票
- **参数：**
  - `user_name` (query, string, required): 用户名
- **响应：** 无特定结构

## 数据模型

### BasicResponse
通用响应格式：
```json
{
  "code": "integer",
  "message": "string",
  "data": "array | object | null"
}
```

### HTTPValidationError
验证错误响应：
```json
{
  "detail": [
    {
      "loc": ["string | integer"],
      "msg": "string",
      "type": "string"
    }
  ]
}
```

### ValidationError
验证错误详情：
```json
{
  "loc": ["string | integer"],
  "msg": "string",
  "type": "string"
}
```

## 错误处理

所有接口都可能返回以下错误状态码：
- **422**: 请求参数验证失败，返回 `HTTPValidationError`

## 使用说明

1. 首先通过 `/v1/users/login` 进行用户认证
2. 使用获得的凭证访问其他受保护的接口
3. 聊天功能支持多种模式：视觉模式、深度搜索、SQL解释器、代码解释器等
4. 股票管理功能需要用户登录后才能使用

